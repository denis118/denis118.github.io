"use strict";import{showMessage}from"./message.min.js";const page=document.querySelector(".page"),onSuccess=showMessage(),onError=showMessage(),bookTheUser=()=>{const e=document.querySelector("#booking__form");e&&e.addEventListener("submit",o=>{o.preventDefault();const t={};Array.from(e.querySelectorAll("input")).forEach(e=>t[e.name]=e.value),fetch("/user",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(e=>{if(!e.ok)throw new Error;onSuccess(),page.classList.add("modal-open")}).catch(e=>{onError(e),page.classList.add("modal-open")})})},highlightForm=()=>{const e=document.querySelector("#main-booking-link"),o=document.querySelector("#booking__form");e&&o&&e.addEventListener("click",e=>{e.preventDefault(),o.classList.add("booking__form--illuminated"),setTimeout(()=>{o.classList.remove("booking__form--illuminated")},1e3)})};export{bookTheUser,highlightForm};